{% load static %}
<nav class="bg-white border-b border-gray-200" x-data="{ mobileMenuOpen: false }">
  <!-- First row: Logo + Site Name on the left, Search + Donate on the right -->
  <div class="max-w-7xl mx-auto px-4 py-2 flex items-center justify-between">
    <!-- Logo + Association Name -->
    <div class="flex items-center space-x-3">
      <a href="/">
        <img
          src="{% static 'common/images/bbbbb.png' %}"
          alt="Asociația pentru Promovarea Nutriției Sănătoase"
          class="h-16 w-auto"
        >
      </a>

      <a href="/" class="hover:underline text-green-700 font-bold text-lg whitespace-nowrap text-wrap">
        Asociația pentru Promovarea Nutriției Sănătoase
      </a>
    </div>
    
    <!-- Search + Donate -->
    <div class="hidden md:flex items-center space-x-4">
      <!-- Search form -->
      <form action="#" method="GET" class="relative">
        <input
          type="search"
          name="q"
          placeholder="Search"
          class="border border-gray-300 rounded-lg pl-4 pr-10 py-1 focus:outline-none
                 focus:ring-2 focus:ring-green-600 focus:border-transparent transition-all duration-200"
        >
        <button
          type="submit"
          class="absolute right-2 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-green-700 transition-colors"
        >
          <svg
            class="h-4 w-4"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
            viewBox="0 0 24 24"
          >
            <circle cx="11" cy="11" r="8" />
            <line x1="21" y1="21" x2="16.65" y2="16.65" />
          </svg>
        </button>
      </form>
      
      <!-- Donate button -->
      <a
        href="/donation"
        class="text-base bg-green-600 text-white font-bold py-1 px-4 rounded-lg hover:bg-green-800 transition-colors duration-200"
      >
        Donează
      </a>
    </div>
    
    <!-- Mobile menu button -->
    <div class="md:hidden">
      <button @click="mobileMenuOpen = !mobileMenuOpen" class="text-gray-500 hover:text-green-700 transition-colors">
        <svg 
          x-show="!mobileMenuOpen"
          class="h-6 w-6" 
          fill="none" 
          stroke="currentColor" 
          viewBox="0 0 24 24"
        >
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
        </svg>
        <svg 
          x-show="mobileMenuOpen" 
          class="h-6 w-6" 
          fill="none" 
          stroke="currentColor" 
          viewBox="0 0 24 24"
          style="display: none;"
        >
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
        </svg>
      </button>
    </div>
  </div>

  <!-- Second row: Navigation links (desktop) -->
  <div class="max-w-7xl mx-auto px-4 py-2 hidden md:block">
    <ul class="w-full flex flex-wrap items-center justify-evenly space-x-6 text-gray-700 font-semibold">

      <!-- Despre noi dropdown -->
      <li x-data="{ open: false }" class="relative group">
        <div @mouseenter="open = true" @mouseleave="open = false" class="relative">
          <a
            href="#"
            class="text-lg transition-colors duration-200 hover:text-green-700 underline-offset-4 flex items-center"
            :class="{ 'text-green-700 underline': open }"
          >
            Despre noi
            <svg class="w-4 h-4 ml-1 transition-transform" :class="{ 'rotate-90': open }" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
            </svg>
          </a>
          <!-- Dropdown menu -->
          <div
            x-show="open"
            x-transition:enter="transition ease-out duration-200"
            x-transition:enter-start="opacity-0 scale-95"
            x-transition:enter-end="opacity-100 scale-100"
            x-transition:leave="transition ease-in duration-150"
            x-transition:leave-start="opacity-100 scale-100"
            x-transition:leave-end="opacity-0 scale-95"
            class="absolute z-40 mt-0 min-w-[200px] bg-white rounded-lg shadow-xl py-2 border border-gray-100"
            style="display: none;"
          >
            <a href="/volunteers" class="block px-4 py-2 text-base text-gray-700 hover:bg-green-50 hover:text-green-700 transition-colors">Voluntari</a>
            <a href="#" class="block px-4 py-2 text-base text-gray-700 hover:bg-green-50 hover:text-green-700 transition-colors">Proiecte</a>
            <a href="#" class="block px-4 py-2 text-base text-gray-700 hover:bg-green-50 hover:text-green-700 transition-colors">Statut</a>
          </div>
        </div>
      </li>

      <!-- Articole dropdown -->
      <li x-data="{ open: false }" class="relative group">
        <div @mouseenter="open = true" @mouseleave="open = false" class="relative">
          <a
            href="#"
            class="text-lg transition-colors duration-200 hover:text-green-700 underline-offset-4 flex items-center"
            :class="{ 'text-green-700 underline': open }"
          >
            Articole
            <svg class="w-4 h-4 ml-1 transition-transform" :class="{ 'rotate-90': open }" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
            </svg>
          </a>
          <!-- Dropdown menu -->
          <div
            x-show="open"
            x-transition:enter="transition ease-out duration-200"
            x-transition:enter-start="opacity-0 scale-95"
            x-transition:enter-end="opacity-100 scale-100"
            x-transition:leave="transition ease-in duration-150"
            x-transition:leave-start="opacity-100 scale-100"
            x-transition:leave-end="opacity-0 scale-95"
            class="absolute z-40 mt-0 min-w-[200px] bg-white rounded-lg shadow-xl py-2 border border-gray-100"
            style="display: none;"
          >
            <a href="{% url 'article_detail' 'diabetes' %}" class="block px-4 py-2 text-base text-gray-700 hover:bg-green-50 hover:text-green-700 transition-colors">Diabet</a>
            <a href="{% url 'article_detail' 'obesity' %}" class="block px-4 py-2 text-base text-gray-700 hover:bg-green-50 hover:text-green-700 transition-colors">Obezitate</a>
            <a href="{% url 'article_detail' 'gout' %}" class="block px-4 py-2 text-base text-gray-700 hover:bg-green-50 hover:text-green-700 transition-colors">Guta</a>

          </div>
        </div>
      </li>

      <!-- Regular menu items -->
      <li>
        <a
          href="/ebook"
          class="text-lg transition-colors duration-200 hover:text-green-700 hover:underline underline-offset-4"
        >
          eBooks
        </a>
      </li>
      <li>
        <a
          href="/webinars"
          class="text-lg transition-colors duration-200 hover:text-green-700 hover:underline underline-offset-4"
        >
          Webinarii
        </a>
      </li>
      <li>
        <a
          href="/enrollment"
          class="text-lg transition-colors duration-200 hover:text-green-700 hover:underline underline-offset-4"
        >
          Înscriere
        </a>
      </li>
      <li>
        <a
          href="/contact"
          class="text-lg transition-colors duration-200 hover:text-green-700 hover:underline underline-offset-4"
        >
          Contact
        </a>
      </li>
    </ul>
  </div>

  <!-- Mobile menu -->
  <div 
    x-show="mobileMenuOpen" 
    x-transition:enter="transition ease-out duration-200"
    x-transition:enter-start="opacity-0"
    x-transition:enter-end="opacity-100"
    x-transition:leave="transition ease-in duration-150"
    x-transition:leave-start="opacity-100"
    x-transition:leave-end="opacity-0"
    class="md:hidden bg-white border-t border-gray-200"
    style="display: none;"
  >
    <div class="px-2 pt-2 pb-3 space-y-1">
      <!-- Mobile search and donate -->
      <div class="p-2 space-y-3">
        <form action="#" method="GET" class="relative">
          <input
            type="search"
            name="q"
            placeholder="Search"
            class="w-full border border-gray-300 rounded-full pl-4 pr-10 py-2 focus:outline-none
                   focus:ring-2 focus:ring-green-600 focus:border-transparent transition-all"
          >
          <button
            type="submit"
            class="absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-green-700"
          >
            <svg
              class="h-4 w-4"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
              viewBox="0 0 24 24"
            >
              <circle cx="11" cy="11" r="8" />
              <line x1="21" y1="21" x2="16.65" y2="16.65" />
            </svg>
          </button>
        </form>
        
        <a
          href="#"
          class="block w-full text-center bg-green-600 text-white font-bold py-2 px-4 rounded-full hover:bg-green-800 transition-colors"
        >
          Donează
        </a>
      </div>

      <!-- Mobile navigation menu -->
      <!-- Despre noi dropdown -->
      <div x-data="{ open: false }" class="space-y-1">
        <button 
          @click="open = !open" 
          class="w-full flex justify-between items-center px-3 py-2 text-gray-700 hover:bg-gray-50 rounded-lg transition-colors"
        >
          <span class="font-semibold">Despre noi</span>
          <svg 
            class="w-4 h-4 transition-transform" 
            :class="{ 'rotate-90': open }"
            fill="none" 
            stroke="currentColor" 
            viewBox="0 0 24 24"
          >
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
          </svg>
        </button>
        <div x-show="open" x-collapse class="pl-4 space-y-1">
          <a href="#" class="block px-3 py-2 text-gray-600 hover:bg-green-50 hover:text-green-700 rounded-lg transition-colors">Voluntari</a>
          <a href="#" class="block px-3 py-2 text-gray-600 hover:bg-green-50 hover:text-green-700 rounded-lg transition-colors">Proiecte</a>
          <a href="#" class="block px-3 py-2 text-gray-600 hover:bg-green-50 hover:text-green-700 rounded-lg transition-colors">Statut</a>
        </div>
      </div>

      <!-- Articole dropdown -->
      <div x-data="{ open: false }" class="space-y-1">
        <button 
          @click="open = !open" 
          class="w-full flex justify-between items-center px-3 py-2 text-gray-700 hover:bg-gray-50 rounded-lg transition-colors"
        >
          <span class="font-semibold">Articole</span>
          <svg 
            class="w-4 h-4 transition-transform" 
            :class="{ 'rotate-90': open }"
            fill="none" 
            stroke="currentColor" 
            viewBox="0 0 24 24"
          >
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
          </svg>
        </button>
        <div x-show="open" x-collapse class="pl-4 space-y-1">
          <a href="{% url 'article_detail' 'diabetes' %}" class="block px-3 py-2 text-gray-600 hover:bg-green-50 hover:text-green-700 rounded-lg transition-colors">Diabet</a>
          <a href="{% url 'article_detail' 'obesity' %}" class="block px-3 py-2 text-gray-600 hover:bg-green-50 hover:text-green-700 rounded-lg transition-colors">Obezitate</a>
          <a href="{% url 'article_detail' 'gout' %}" class="block px-3 py-2 text-gray-600 hover:bg-green-50 hover:text-green-700 rounded-lg transition-colors">Guta</a>

        </div>
      </div>

      <!-- Other menu items -->
      <a href="/ebook" class="block px-3 py-2 text-gray-700 font-semibold hover:bg-gray-50 hover:text-green-700 rounded-lg transition-colors">
        eBooks
      </a>
      <a href="/blog" class="block px-3 py-2 text-gray-700 font-semibold hover:bg-gray-50 hover:text-green-700 rounded-lg transition-colors">
        Blog
      </a>
      <a href="/enrollment" class="block px-3 py-2 text-gray-700 font-semibold hover:bg-gray-50 hover:text-green-700 rounded-lg transition-colors">
        Înscriere
      </a>
      <a href="/contact" class="block px-3 py-2 text-gray-700 font-semibold hover:bg-gray-50 hover:text-green-700 rounded-lg transition-colors">
        Contact
      </a>
    </div>
  </div>
</nav>
{% load static %}
<nav class="bg-white border-b border-gray-200" x-data="{ mobileMenuOpen: false }">
  <!-- First row: Logo + Site Name on the left, Search + Donate on the right -->
  <div class="max-w-7xl mx-auto px-4 py-2 flex items-center justify-between">
    <!-- Logo + Association Name -->
    <div class="flex items-center space-x-3">
        <a href="/" >
            <img
            src="{% static 'common/images/bbbbb.png' %}"
            alt="Asociația pentru Promovarea Nutriției Sănătoase"
            class="h-16 w-auto"
          >
        </a>

      <a href="/" class="hover:underline text-green-700 font-bold text-lg whitespace-nowrap text-wrap">
        Asociația pentru Promovarea Nutriției Sănătoase
      </a>
    </div>
    
    <!-- Search + Donate -->
    <div class="hidden md:flex items-center space-x-4">
      <!-- Search form -->
      <form action="#" method="GET" class="relative">
        <input
          type="search"
          name="q"
          placeholder="Search"
          class="border border-gray-300 rounded-full pl-4 pr-10 py-1 focus:outline-none
                 focus:ring-2 focus:ring-green-600 focus:border-transparent"
        >
        <button
          type="submit"
          class="absolute right-2 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-green-700"
        >
          <!-- Simple search icon -->
          <svg
            class="h-4 w-4"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
            viewBox="0 0 24 24"
          >
            <circle cx="11" cy="11" r="8" />
            <line x1="21" y1="21" x2="16.65" y2="16.65" />
          </svg>
        </button>
      </form>
      
      <!-- Donate button -->
      <a
        href="/donation"
        class="text-base bg-green-700 text-white font-bold py-1 px-4 rounded-full hover:bg-green-800 transition-colors"
      >
        Donează
      </a>
    </div>
    
    <!-- Mobile menu button -->
    <div class="md:hidden">
      <button @click="mobileMenuOpen = !mobileMenuOpen" class="text-gray-500 hover:text-green-700">
        <svg 
          x-show="!mobileMenuOpen"
          class="h-6 w-6" 
          fill="none" 
          stroke="currentColor" 
          viewBox="0 0 24 24"
        >
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
        </svg>
        <svg 
          x-show="mobileMenuOpen" 
          class="h-6 w-6" 
          fill="none" 
          stroke="currentColor" 
          viewBox="0 0 24 24"
          style="display: none;"
        >
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
        </svg>
      </button>
    </div>
  </div>

  <!-- Second row: Navigation links (desktop) -->
  <div class="max-w-7xl mx-auto px-4 py-2 hidden md:block">
    <ul class="w-full flex flex-wrap items-center justify-between space-x-6 text-gray-700 font-semibold">

              <!-- Life with Diabetes with dropdown -->
      <li x-data="{ open: false }" class="relative">
        <div @mouseenter="open = true" @mouseleave="open = false">
          <a
            href="#"
            class="text-lg transition-colors duration-300 hover:text-green-700 hover:underline underline-offset-4 flex items-center"
          >
            Despre noi
            <svg class="w-4 h-4 ml-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
            </svg>
          </a>
          <!-- Dropdown menu -->
          <div
            x-show="open"
            x-transition
            class="absolute z-40 mt-2 w-48 bg-white rounded-md shadow-lg py-1"
            style="display: none;"
          >
            <a href="#" class="block px-4 py-2 text-base text-gray-700 hover:bg-gray-100">Voluntari</a>
            <a href="#" class="block px-4 py-2 text-base text-gray-700 hover:bg-gray-100">Proiecte</a>
            <a href="#" class="block px-4 py-2 text-base text-gray-700 hover:bg-gray-100">Statut</a>
          </div>
        </div>
      </li>

      <!-- About Diabetes with dropdown -->
      <li x-data="{ open: false }" class="relative">
        <div @mouseenter="open = true" @mouseleave="open = false">
          <a
            href="#"
            class="text-lg transition-colors duration-300 hover:text-green-700 hover:underline underline-offset-4 flex items-center"
          >
            Articole
            <svg class="w-4 h-4 ml-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
            </svg>
          </a>
          <!-- Dropdown menu -->
          <div
            x-show="open"
            x-transition
            class="absolute z-40 mt-2 w-48 bg-white rounded-md shadow-lg py-1"
            style="display: none;"
          >
            <a href="{% url 'article_detail' 'diabetes' %}"  class="block px-4 py-2 text-base text-gray-700 hover:bg-gray-100">Diabet</a>
            <a href="{% url 'article_detail' 'obesity' %}"  class="block px-4 py-2 text-base text-gray-700 hover:bg-gray-100">Obezitate</a>
          </div>
        </div>
      </li>



      <!-- Health & Wellness with dropdown -->
      <li x-data="{ open: false }" class="relative">
        <div @mouseenter="open = true" @mouseleave="open = false">
          <a
            href="#"
            class="text-lg transition-colors duration-300 hover:text-green-700 hover:underline underline-offset-4 flex items-center"
          >
            Cursuri nutritie
            <svg class="w-4 h-4 ml-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
            </svg>
          </a>
          <!-- Dropdown menu -->
          <div
            x-show="open"
            x-transition
            class="absolute z-40 mt-2 w-48 bg-white rounded-md shadow-lg py-1"
            style="display: none;"
          >
          <a href="#" class="block px-4 py-2 text-base text-gray-700 hover:bg-gray-100">Alimentație Echilibrată</a>
          <a href="#" class="block px-4 py-2 text-base text-gray-700 hover:bg-gray-100">Planuri Nutriționale</a>
          <a href="#" class="block px-4 py-2 text-base text-gray-700 hover:bg-gray-100">Nutriție Sportivă</a>
            <a href="#" class="block border-t-2 border-gray-100 px-4 py-2 text-base text-gray-700 hover:bg-gray-100">Toate cursurile</a>
          </div>
        </div>
      </li>

      <!-- Regular menu items -->
      <li>
        <a
          href="/enrollment"
          class="text-lg transition-colors duration-300 hover:text-green-700 hover:underline underline-offset-4"
        >
          Înscriere
        </a>
      </li>
      <li>
        <a
          href="/blog"
          class="text-lg transition-colors duration-300 hover:text-green-700 hover:underline underline-offset-4"
        >
          Blog
        </a>
      </li>
      <li>
        <a
          href="/contact"
          class="text-lg transition-colors duration-300 hover:text-green-700 hover:underline underline-offset-4"
        >
          Contact
        </a>
      </li>
    </ul>
  </div>

  <!-- Mobile menu (hidden by default) -->
  <div 
    x-show="mobileMenuOpen" 
    class="md:hidden bg-white border-t border-gray-200"
    style="display: none;"
  >
    <div class="px-2 pt-2 pb-3 space-y-1">
      <!-- Mobile search and donate -->
      <div class="p-2 space-y-3">
        <form action="#" method="GET" class="relative">
          <input
            type="search"
            name="q"
            placeholder="Search"
            class="w-full border border-gray-300 rounded-full pl-4 pr-10 py-2 focus:outline-none
                   focus:ring-2 focus:ring-green-600 focus:border-transparent"
          >
          <button
            type="submit"
            class="absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-green-700"
          >
            <svg
              class="h-4 w-4"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
              viewBox="0 0 24 24"
            >
              <circle cx="11" cy="11" r="8" />
              <line x1="21" y1="21" x2="16.65" y2="16.65" />
            </svg>
          </button>
        </form>
        
        <a
          href="#"
          class="block w-full text-center bg-green-700 text-white font-bold py-2 px-4 rounded-full hover:bg-green-800 transition-colors"
        >
          Donate
        </a>
      </div>

      <!-- Mobile navigation menu -->
      <!-- About Diabetes dropdown -->
      <div x-data="{ open: false }">
        <button 
          @click="open = !open" 
          class="w-full flex justify-between items-center px-3 py-2 text-gray-700 hover:bg-gray-50"
        >
          <span class="font-semibold">About Diabetes</span>
          <svg 
            class="w-4 h-4 transition-transform" 
            :class="{ 'rotate-180': open }"
            fill="none" 
            stroke="currentColor" 
            viewBox="0 0 24 24"
          >
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
          </svg>
        </button>
        <div x-show="open" class="pl-4 pr-2 py-2 space-y-1 bg-gray-50" style="display: none;">
          <a href="#" class="block px-3 py-2 text-gray-600 hover:text-green-700">What is Diabetes</a>
          <a href="#" class="block px-3 py-2 text-gray-600 hover:text-green-700">Type 1 Diabetes</a>
          <a href="#" class="block px-3 py-2 text-gray-600 hover:text-green-700">Type 2 Diabetes</a>
          <a href="#" class="block px-3 py-2 text-gray-600 hover:text-green-700">Gestational Diabetes</a>
        </div>
      </div>

      <!-- Life with Diabetes dropdown -->
      <div x-data="{ open: false }">
        <button 
          @click="open = !open" 
          class="w-full flex justify-between items-center px-3 py-2 text-gray-700 hover:bg-gray-50"
        >
          <span class="font-semibold">Life with Diabetes</span>
          <svg 
            class="w-4 h-4 transition-transform" 
            :class="{ 'rotate-180': open }"
            fill="none" 
            stroke="currentColor" 
            viewBox="0 0 24 24"
          >
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
          </svg>
        </button>
        <div x-show="open" class="pl-4 pr-2 py-2 space-y-1 bg-gray-50" style="display: none;">
          <a href="#" class="block px-3 py-2 text-gray-600 hover:text-green-700">Daily Management</a>
          <a href="#" class="block px-3 py-2 text-gray-600 hover:text-green-700">Treatment Options</a>
          <a href="#" class="block px-3 py-2 text-gray-600 hover:text-green-700">Living with Diabetes</a>
          <a href="#" class="block px-3 py-2 text-gray-600 hover:text-green-700">Family Support</a>
        </div>
      </div>

      <!-- Health & Wellness dropdown -->
      <div x-data="{ open: false }">
        <button 
          @click="open = !open" 
          class="w-full flex justify-between items-center px-3 py-2 text-gray-700 hover:bg-gray-50"
        >
          <span class="font-semibold">Health & Wellness</span>
          <svg 
            class="w-4 h-4 transition-transform" 
            :class="{ 'rotate-180': open }"
            fill="none" 
            stroke="currentColor" 
            viewBox="0 0 24 24"
          >
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
          </svg>
        </button>
        <div x-show="open" class="pl-4 pr-2 py-2 space-y-1 bg-gray-50" style="display: none;">
          <a href="#" class="block px-3 py-2 text-gray-600 hover:text-green-700">Physical Activity</a>
          <a href="#" class="block px-3 py-2 text-gray-600 hover:text-green-700">Mental Health</a>
          <a href="#" class="block px-3 py-2 text-gray-600 hover:text-green-700">Preventive Care</a>
          <a href="#" class="block px-3 py-2 text-gray-600 hover:text-green-700">Complications</a>
        </div>
      </div>

      <!-- Other menu items -->
      <a href="#" class="block px-3 py-2 text-gray-700 font-semibold hover:bg-gray-50 hover:text-green-700">
        Food & Nutrition
      </a>
      <a href="#" class="block px-3 py-2 text-gray-700 font-semibold hover:bg-gray-50 hover:text-green-700">
        Tools & Resources
      </a>
      <a href="#" class="block px-3 py-2 text-gray-700 font-semibold hover:bg-gray-50 hover:text-green-700">
        Ways to Contribute
      </a>
      <a href="#" class="block px-3 py-2 text-gray-700 font-semibold hover:bg-gray-50 hover:text-green-700">
        Advocacy
      </a>
    </div>
  </div>
</nav>